<h1>feed API publish or Dialog</h1>
<button id="publish">Publish</button>
<fb:login-button scope="publish_stream">Grant Permission</fb:login-button>

<script>
  var hasPublishPermission = false

  function publishFeed(story) {
    if (hasPublishPermission) {
      FB.api('/me/feed', 'POST', story)
    } else {
      story.method = 'feed'
      FB.ui(story)
    }
  }

  document.getElementById('publish').onclick = function() {
    publishFeed({
      message: 'getting educated about Facebook Connect',
      name: 'Connect',
      caption: 'The Facebook Connect JavaScript SDK',
      description: (
        'A small JavaScript library that allows you to harness ' +
        'the power of Facebook, bringing the user\'s identity, ' +
        'social graph and distribution power to your site.'
      ),
      link: 'http://www.fbrell.com/',
      picture: 'http://www.fbrell.com/public/f8.jpg',
      actions: [
        { name: 'fbrell', link: 'http://www.fbrell.com/' }
      ],
      user_message_prompt: 'Share your thoughts about RELL'
    })
  }
</script>
